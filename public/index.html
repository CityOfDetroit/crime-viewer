<!DOCTYPE html>
<html>

<head>
	<meta charset='utf-8'>
	<title>Detroit Crime Viewer</title>
	<meta content='initial-scale=1,maximum-scale=1,user-scalable=no' name='viewport'>
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.css' rel='stylesheet'>
	<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.0/mapbox-gl-draw.css' type='text/css'/>
	<link href='./styles/jquery.scrollbar.css' rel='stylesheet'>
	<link href='./styles/tables.css' rel='stylesheet'>
	<link href='./styles/tabs.css' rel='stylesheet'>
	<link href='./styles/filter.css' rel='stylesheet'>
	<link href='./styles/main.css' rel='stylesheet'>
	<link href='./styles/print.css' rel='stylesheet'>
	<link href="./img/favicon.ico" rel="icon" sizes="16x16" type="image">
</head>

<body>
	<nav id="menu">
		<div class="logo">
			<img src="./img/green.png">
			<h1>City of Detroit<br/>Crime Viewer</h1>
		</div>
		<div class="tabs">
			<div class="tab-content scrollbar-macosx">
				<div class="tab active" id="tab2">
					<div id="point_details"></div>	
					<br/>
					<button id="show-table">Show Table</button>
					<button id="show-charts">Show Charts</button>
					<div id="table-container">
						<h4 class="sidebar-title">Incidents by Crime Type</h4>
						<table id="count_by_type">
							<tbody id="tbody"></tbody>
						</table>
					</div>
					<br/>
					<div id="chart-hodler">
						<div id="chart-container" style="width:100%; height:350px; display:none; margin-top:10px;"></div>
						<br/>
						<div id="line-chart-container" style="width:100%; height:350px; display:none;"></div>
					</div>
					<!-- <p style="font-size:smaller;">* Statistics shown here respond to your filters and match the number of incidents currently displayed on the map.</p> -->
				</div>
				<div class="tab" id="tab3">
				</div>
			</div>
		</div>
	</nav>
	<!--Map-->
	<nav id="filters-menu">
		<div id="primary-nav" class="drop-shadow">
			<input type="button" class="dropdown-button" id="categories-dropdown-button" data-panel="#categories">
			<label for="categories-dropdown-button">Crime Types<span id="categories-arrow" class="dropdown-arrow"><img src="./img/arrow.svg"/></span></label>
			<input type="button"class="dropdown-button" id="date-and-time-dropdown-button" data-panel="#date-and-time">
			<label for="date-and-time-dropdown-button">Date and Time<span id="date-and-time-arrow" class="dropdown-arrow"><img src="./img/arrow.svg"/></span></label>
			<input type="button" class="dropdown-button" id="location-dropdown-button" data-panel="#location">
			<label for="location-dropdown-button">Location<span id="location-arrow" class="dropdown-arrow"><img src="./img/arrow.svg"/></span></label>
			<input type="button" id="reset-button" data-panel="#reset-filters">
			<label for="reset-button">Reset</label>
			<input type="button" id="print-button">
			<label for="print-button" class="meta-button">Print</label>
			<input type="button" id="about-button">
			<label for="about-button" class="meta-button">About</label>
			<input type="button"id="share-button">
			<label for="share-button" class="meta-button">Share</label>
		</div>
		<div id="primary-panel">
			<section class="filters" id="categories">
			</section>
			<section class="filters" id="date-and-time">
				<div class="filter-instructions">You can restrict what area is shown here. You can <b>search</b> for an address, </b>draw your own</b> custom area, or <b>choose</b> from pre-made boundaries:</div>					
				<div class='filter-subcat'>
						<span class='filter-subcat-title'>Pick a date range</span>
						<input id="from_date" type="date" min="2016-12-06"></input>
						<input id="to_date" type="date" min="2016-12-06"></input>
				</div>
				<div class="filter-subcat xl">

					<span class="filter-subcat-title">Day of Week</span>
					<input type="checkbox" class="dow-checkbox" id="dow-1-check" name="" />
					<label id="dow-1-label" for="dow-1-check">Sun</label>
					<input type="checkbox" class="dow-checkbox" id="dow-2-check" name="" />
					<label for="dow-2-check">Mon</label>
					<input type="checkbox" class="dow-checkbox" id="dow-3-check" name="" />
					<label for="dow-3-check">Tue</label>
					<input type="checkbox" class="dow-checkbox" id="dow-4-check" name="" />
					<label for="dow-4-check">Wed</label>
					<input type="checkbox" class="dow-checkbox" id="dow-5-check" name="" />
					<label for="dow-5-check">Thu</label>
					<input type="checkbox" class="dow-checkbox" id="dow-6-check" name="" />
					<label for="dow-6-check">Fri</label>
					<input type="checkbox" class="dow-checkbox" id="dow-7-check" name="" />
					<label for="dow-7-check">Sat</label>
				</div>

				<div class="filter-subcat">

				<span class="filter-subcat-title xl">Time of Day</span>

					<input type="checkbox" id="morning-check" class="date-checkbox" name="" />
					<label for="morning-check"><img src="./img/morning.svg" alt=""/><span>5AM - 11AM</span></label>
					<input type="checkbox" id="afternoon-check" class="date-checkbox" name="" />
					<label for="afternoon-check"><img src="./img/cloudsun.svg" alt=""/><span>11AM - 5PM</span></label>
					<input type="checkbox" id="evening-check" class="date-checkbox" name="" />
					<label for="evening-check"><img src="./img/mooncloud.svg" alt=""/><span>5PM - 11PM</span></label>
					<input type="checkbox" id="overnight-check" class="date-checkbox" name="" />
					<label for="overnight-check"><img src="./img/overnight.svg" alt=""/><span>11PM - 5AM</span></label>
				</div>
			</section>
			<section class="filters" id="location">
				<div class="filter-instructions">You can restrict what area is shown here. You can <b>search</b> for an address, </b>draw your own</b> custom area, or <b>choose</b> from pre-made boundaries:</div>
				<div class='filter-subcat wide' id="geocode_search">
					<span class='filter-subcat-title'>Search an address/intersection</span>
					<input id="locate" name="search" placeholder="ex '8515 W Chicago', 'Van Dyke & Harper'" type="text">
				</div>
				<div class='filter-subcat narrow'>
					<span class='filter-subcat-title'>Custom</span>
					<input type="radio" data-control="" id="area-custom" name="currentArea" value="custom">
					<label for="area-custom">Draw area</label>
				</div>
				<div class='filter-subcat narrow'>
					<span class='filter-subcat-title'>Council districts</span>
					<input type="radio" data-control="" id="area-council-district" name="currentArea" value="council_district" checked="checked">
					<label for="area-council-district">Show</label>
				</div>
				<div class='filter-subcat narrow'>
					<span class='filter-subcat-title'>Police precincts</span>
					<input type="radio" data-control="" id="area-precinct" name="currentArea" value="precinct">
					<label for="area-precinct">Show</label>
				</div>
				<div class='filter-subcat narrow'>
					<span class='filter-subcat-title'>Neighborhoods</span>
					<input type="radio" data-control="" id="area-neighborhood" name="currentArea" value="neighborhood">
					<label for="area-neighborhood">Show</label>
				</div>
				<div class='filter-subcat narrow'>
					<span class='filter-subcat-title'>Zip codes</span>
					<input type="radio" data-control="" id="area-zip-code" name="currentArea" value="zip_code">
					<label for="area-zip-code">Show</label>
				</div>
			</section>
		</div>
	</nav>
	<div id='map-overlay'>
		
	</div>
	<div id='map'>
		<div class="disclaimer">
			<p><span class="disclaimer-close"><img src="./img/close.svg"></span><strong>Disclaimer:</strong><br/>In order to protect
				the privacy of crime victims, both the addresses and geographic coordinates (longitude and latitude) are masked. See
				ABOUT to learn more.</p>
		</div>
		<div id="about-content" style="display:none;">
			<p><span class="about-close"><img src="./img/close.svg"></span></p>
			<h2 id="about-header">About</h2>
			<h3>Welcome to the City of Detroit's Crime Viewer</h3>
			<p>The City of Detroit's Police Department (DPD) and Department of Innovation and Technology (DoIT) are building a tool
			for residents to visualize crime data. By putting information in the hands of residents, we hope to work together to
			promote a safer community.</p>
			<h3>Where does the data come from?</h3>
			<p>The incident data that power this tool are provided by the Detroit Police Department (DPD) and made publicly available on the <a target="_blank" href="https://data.detroitmi.gov/">City of Detroit's open data portal</a>. Find it at <a target="_blank" href="https://data.detroitmi.gov/Public-Safety/DPD-All-Crime-Incidents-December-6-2016-Present/6gdg-y3kf">DPD: All Crime Incidents, December 6, 2016 - Present</a>.</p>
			<h3>How often is the data updated?</h3>
			<p>The data is updated on a weekly basis and only reflects incidents that have been submittted to the Michigan Incident 
			Crime Reporting tool (the date of submission is reflected in the "IBR Date" field
			in the open data). The incident data represented here is preliminary in nature and subject to change.</p>
			<h3>How is the data anonymized?</h3>
			<p>The addresses and datapoints which appear in this tool are anonymized; instead of a specific street address, data points
			get assigned to a specific block. We do this by randomly selecting a new point that is 1) within a certain distance
			of the original crime and 2) a certain distance of the associated street segment. It does <b>not</b> accurately represent
			where the incident happened.</p>
			<h3>Who can I contact to learn more about the data?</h3>
			<p>Should you have questions about the data, you may contact the Commanding Officer of the Detroit Police Department's
			Crime Intelligence Unit at 313-596-2250 or <a href="mailto:CrimeIntelligenceBureau@detroitmi.gov">CrimeIntelligenceBureau@detroitmi.gov</a>.</p>
		</div>
	</div>
	<script src="./bundle.js"></script>
</body>

</html>